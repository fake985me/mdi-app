import{r as n,q as M,o as I,b as l,s as j,d as t,k as E,v as b,x as z,y as k,F,h as V,e as v,f as p,X as A,t as a,n as w,i as r,j as D}from"./main-wl1HvSEI.js";import{g as L}from"./api-D6uEPlNO.js";import{P as _}from"./package-D2JGAtC4.js";import{E as K}from"./eye-DtA-fAwa.js";const T=(x,f)=>{const m=x.__vccOpts||x;for(const[d,c]of f)m[d]=c;return m},q={class:"min-h-screen"},H={class:"glass-dark shadow-lg border-b border-white border-opacity-20"},O={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},R={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Q=["value"],X={class:"py-12"},Z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},G={key:0,class:"flex justify-center items-center py-20"},J={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"},W={class:"relative h-64 bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden"},Y=["src","alt"],ee={key:1,class:"w-full h-full flex items-center justify-center"},te={class:"absolute top-3 right-3"},se={class:"p-6"},oe={class:"mb-2"},ae={class:"badge badge-info"},le={class:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2"},re={class:"text-sm text-gray-600 mb-3 line-clamp-2"},ie={class:"flex items-center justify-between mb-3"},ne={class:"text-xs text-gray-500 font-mono"},de={class:"text-sm text-gray-600"},ce={class:"flex items-center justify-between"},ue={class:"flex flex-col"},me={class:"text-2xl font-bold text-green-600"},ge={key:0,class:"text-sm text-gray-500 line-through"},ve=["onClick"],pe={key:2,class:"text-center py-20"},fe={key:0,class:"modal-backdrop"},be={class:"modal max-w-2xl w-full max-h-[90vh] overflow-y-auto"},xe={class:"relative"},ye={class:"h-80 bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden rounded-t-xl"},he=["src","alt"],ke={key:1,class:"w-full h-full flex items-center justify-center"},we={class:"p-8"},_e={class:"mb-4"},Pe={class:"badge badge-info"},Ce={class:"text-3xl font-bold text-gray-900 mb-4"},Se={class:"text-gray-600 mb-6"},$e={class:"grid grid-cols-2 gap-6 mb-6"},je={class:"text-3xl font-bold text-green-600"},Ee={class:"border-t border-gray-200 border-opacity-30 pt-6"},Fe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Ve={class:"mt-1 text-sm text-gray-900 font-mono"},Le={class:"mt-1 text-sm text-gray-900"},Ne={class:"mt-1 text-sm text-gray-900"},Ue={class:"mt-1"},Be={__name:"CatalogPage",setup(x){const f=n([]),m=n([]),d=n(""),c=n(""),g=n(""),y=n("name"),h=n(!1);n(null);const P=M(()=>{let s=[...f.value];if(d.value){const e=d.value.toLowerCase();s=s.filter(i=>i.name.toLowerCase().includes(e)||i.sku.toLowerCase().includes(e))}if(c.value&&(s=s.filter(e=>e.category_id===c.value)),g.value){const[e,i]=g.value.split("-").map(o=>o.replace("+",""));s=s.filter(o=>{const u=parseFloat(o.price);return g.value==="500+"?u>=500:u>=parseFloat(e)&&u<=parseFloat(i)})}return s.sort((e,i)=>{switch(y.value){case"name":return e.name.localeCompare(i.name);case"price-low":return parseFloat(e.price)-parseFloat(i.price);case"price-high":return parseFloat(i.price)-parseFloat(e.price);case"stock":return i.current_stock-e.current_stock;default:return 0}}),s}),C=(s,e)=>s===0?"bg-red-100 text-red-800":s<=e?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",S=(s,e)=>s===0?"Out of Stock":s<=e?"Low Stock":"In Stock",N=(s,e)=>s===0?"text-red-600":s<=e?"text-yellow-600":"text-green-600",U=async()=>{try{const s=await L("/api/products"),e=await s.json();if(s.ok)f.value=e.data||[];else throw new Error(e.message||"Failed to fetch products")}catch(s){console.error("Error fetching products:",s),s.value=s.message}},B=async()=>{try{const s=await L("/api/categories"),e=await s.json();if(s.ok)m.value=e.data||[];else throw new Error(e.message||"Failed to fetch categories")}catch(s){console.error("Error fetching categories:",s),s.value=s.message}};return I(async()=>{h.value=!0,await Promise.all([U(),B()]),h.value=!1}),(s,e)=>{var i;return r(),l("div",q,[e[23]||(e[23]=j('<section class="bg-gradient-primary text-white py-20 relative overflow-hidden" data-v-abe25b17><div class="absolute inset-0 bg-black opacity-10" data-v-abe25b17></div><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" data-v-abe25b17><div class="text-center relative z-10" data-v-abe25b17><h1 class="text-5xl md:text-6xl font-bold mb-6 slide-in" data-v-abe25b17> Product Catalog </h1><p class="text-xl md:text-2xl text-blue-100 slide-in" style="animation-delay:0.2s;" data-v-abe25b17> Explore our comprehensive inventory </p></div></div></section>',1)),t("section",H,[t("div",O,[t("div",R,[t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Search Products",-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),type:"text",placeholder:"Search by name or SKU...",class:"form-input"},null,512),[[z,d.value]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Category",-1)),b(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>c.value=o),class:"form-input"},[e[7]||(e[7]=t("option",{value:""},"All Categories",-1)),(r(!0),l(F,null,V(m.value,o=>(r(),l("option",{key:o.id,value:o.id},a(o.name),9,Q))),128))],512),[[k,c.value]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Price Range",-1)),b(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>g.value=o),class:"form-input"},e[9]||(e[9]=[j('<option value="" data-v-abe25b17>All Prices</option><option value="0-50" data-v-abe25b17>$0 - $50</option><option value="50-200" data-v-abe25b17>$50 - $200</option><option value="200-500" data-v-abe25b17>$200 - $500</option><option value="500+" data-v-abe25b17>$500+</option>',5)]),512),[[k,g.value]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Sort By",-1)),b(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>y.value=o),class:"form-input"},e[11]||(e[11]=[t("option",{value:"name"},"Name A-Z",-1),t("option",{value:"price-low"},"Price: Low to High",-1),t("option",{value:"price-high"},"Price: High to Low",-1),t("option",{value:"stock"},"Stock Level",-1)]),512),[[k,y.value]])])])])]),t("section",X,[t("div",Z,[h.value?(r(),l("div",G,e[13]||(e[13]=[t("div",{class:"animate-spin rounded-full h-16 w-16 border-4 border-white border-t-transparent"},null,-1)]))):P.value.length>0?(r(),l("div",J,[(r(!0),l(F,null,V(P.value,o=>{var u;return r(),l("div",{key:o.id,class:"card card-hover overflow-hidden group"},[t("div",W,[o.image_url?(r(),l("img",{key:0,src:o.image_url,alt:o.name,class:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:e[4]||(e[4]=(...$)=>s.handleImageError&&s.handleImageError(...$))},null,40,Y)):(r(),l("div",ee,[v(p(_),{class:"w-16 h-16 text-gray-400"})])),t("div",te,[t("span",{class:w(["badge",C(o.current_stock,o.minimum_stock)])},a(S(o.current_stock,o.minimum_stock)),3)])]),t("div",se,[t("div",oe,[t("span",ae,a((u=o.categories)==null?void 0:u.name),1)]),t("h3",le,a(o.name),1),t("p",re,a(o.description),1),t("div",ie,[t("span",ne,"SKU: "+a(o.sku),1),t("span",de,"Stock: "+a(o.current_stock),1)]),t("div",ce,[t("div",ue,[t("span",me,"$"+a(o.price),1),o.cost_price?(r(),l("span",ge," $"+a(o.cost_price),1)):E("",!0)]),t("button",{onClick:$=>s.viewProduct(o),class:"btn btn-primary btn-animate"},[v(p(K),{class:"w-4 h-4 mr-2"}),e[14]||(e[14]=D(" View Details "))],8,ve)])])])}),128))])):(r(),l("div",pe,[v(p(_),{class:"w-16 h-16 text-white opacity-50 mx-auto mb-4"}),e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-white mb-2"},"No products found",-1)),e[16]||(e[16]=t("p",{class:"text-gray-300"}," Try adjusting your search criteria or filters. ",-1))]))])]),s.selectedProduct?(r(),l("div",fe,[t("div",be,[t("div",xe,[t("button",{onClick:e[5]||(e[5]=o=>s.selectedProduct=null),class:"absolute top-4 right-4 z-10 p-2 glass rounded-full shadow-lg hover:bg-gray-100 transition-colors"},[v(p(A),{class:"w-5 h-5 text-gray-600"})]),t("div",ye,[s.selectedProduct.image_url?(r(),l("img",{key:0,src:s.selectedProduct.image_url,alt:s.selectedProduct.name,class:"w-full h-full object-cover"},null,8,he)):(r(),l("div",ke,[v(p(_),{class:"w-20 h-20 text-gray-400"})]))]),t("div",we,[t("div",_e,[t("span",Pe,a((i=s.selectedProduct.categories)==null?void 0:i.name),1)]),t("h2",Ce,a(s.selectedProduct.name),1),t("p",Se,a(s.selectedProduct.description),1),t("div",$e,[t("div",null,[e[17]||(e[17]=t("h4",{class:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-2"}," Price ",-1)),t("p",je," $"+a(s.selectedProduct.price),1)]),t("div",null,[e[18]||(e[18]=t("h4",{class:"text-sm font-medium text-gray-500 uppercase tracking-wide mb-2"}," Stock ",-1)),t("p",{class:w(["text-2xl font-semibold",N(s.selectedProduct.stock,s.selectedProduct.minimum_stock)])},a(s.selectedProduct.current_stock)+" units ",3)])]),t("div",Ee,[t("dl",Fe,[t("div",null,[e[19]||(e[19]=t("dt",{class:"text-sm font-medium text-gray-500"},"SKU",-1)),t("dd",Ve,a(s.selectedProduct.sku),1)]),t("div",null,[e[20]||(e[20]=t("dt",{class:"text-sm font-medium text-gray-500"}," Minimum Stock ",-1)),t("dd",Le,a(s.selectedProduct.minimum_stock)+" units ",1)]),t("div",null,[e[21]||(e[21]=t("dt",{class:"text-sm font-medium text-gray-500"}," Maximum Stock ",-1)),t("dd",Ne,a(s.selectedProduct.maximum_stock)+" units ",1)]),t("div",null,[e[22]||(e[22]=t("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("dd",Ue,[t("span",{class:w(["badge",C(s.selectedProduct.stock,s.selectedProduct.minimum_stock)])},a(S(s.selectedProduct.stock,s.selectedProduct.minimum_stock)),3)])])])])])])])])):E("",!0)])}}},De=T(Be,[["__scopeId","data-v-abe25b17"]]);export{De as default};
