import{u as b}from"./page-CCbDvAmP.js";import{r as v,o as k,b as r,d as e,e as o,w as d,g as P,k as y,F as C,h as N,f as c,C as D,i,j as u,t as l,n as S}from"./main-wl1HvSEI.js";import{F as f}from"./file-text-C6Ow2Sli.js";import{P as h}from"./plus-CcN--E47.js";import"./api-D6uEPlNO.js";const E={class:"p-6"},V={class:"flex justify-between items-center mb-8"},F={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},L={class:"overflow-x-auto"},j={class:"min-w-full divide-y divide-gray-200"},A={class:"bg-white divide-y divide-gray-200"},B={class:"px-6 py-4 whitespace-nowrap"},M={class:"flex items-center"},T={class:"flex-shrink-0 h-10 w-10 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-lg flex items-center justify-center"},$={class:"ml-4"},z={class:"text-sm font-medium text-gray-900 flex items-center"},G={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},H={class:"text-sm text-gray-500"},R={class:"px-6 py-4 whitespace-nowrap"},q={class:"text-sm text-gray-900"},I={class:"text-sm text-gray-500"},J={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},O={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Q=["onClick"],U={key:0},W={colspan:"5",class:"px-6 py-12 text-center"},X={class:"mt-6"},re={__name:"PagesList",setup(Y){const g=b();D();const x=v([]);k(async()=>{await m()});const m=async()=>{try{x.value=await g.getPages()}catch(a){console.error("Error loading pages:",a)}},_=async a=>{if(confirm("Are you sure you want to delete this page?"))try{await g.deletePage(a),await m()}catch(t){console.error("Error deleting page:",t),alert("Error deleting page: "+t.message)}},w=a=>{const t={year:"numeric",month:"short",day:"numeric"};return new Date(a).toLocaleDateString(void 0,t)};return(a,t)=>{const n=P("router-link");return i(),r("div",E,[e("div",V,[t[1]||(t[1]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"All Pages"),e("p",{class:"text-gray-600"},"Manage all your website pages using the unified page builder system"),e("div",{class:"mt-2 text-sm text-gray-500"}," Note: Create a page with 'home' slug to use as your homepage ")],-1)),e("div",null,[o(n,{to:"/page-builder",class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2"},{default:d(()=>[o(c(h),{class:"w-5 h-5"}),t[0]||(t[0]=e("span",null,"Create New Page",-1))]),_:1,__:[0]})])]),e("div",F,[e("div",L,[e("table",j,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Title "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Slug "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Last Modified "),e("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",A,[(i(!0),r(C,null,N(x.value,s=>{var p;return i(),r("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",B,[e("div",M,[e("div",T,[o(c(f),{class:"h-5 w-5 text-white"})]),e("div",$,[e("div",z,[u(l(s.title)+" ",1),s.slug==="home"?(i(),r("span",G," Home ")):y("",!0)]),e("div",H,l(((p=s.content)==null?void 0:p.length)||0)+" sections",1)])])]),e("td",R,[e("div",q,l(s.slug),1),e("div",I,[o(n,{to:s.slug==="home"?"/":`/pages/${s.slug}`,target:"_blank",class:"text-blue-600 hover:text-blue-900"},{default:d(()=>t[2]||(t[2]=[u(" View ")])),_:2,__:[2]},1032,["to"])])]),e("td",J,[e("span",{class:S(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",s.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},l(s.is_active?"Published":"Draft"),3)]),e("td",K,l(w(s.updated_at)),1),e("td",O,[o(n,{to:`/page-builder/${s.id}`,class:"text-blue-600 hover:text-blue-900 mr-3"},{default:d(()=>t[3]||(t[3]=[u(" Edit ")])),_:2,__:[3]},1032,["to"]),e("button",{onClick:Z=>_(s.id),class:"text-red-600 hover:text-red-900"}," Delete ",8,Q)])])}),128)),x.value.length===0?(i(),r("tr",U,[e("td",W,[o(c(f),{class:"mx-auto h-12 w-12 text-gray-400"}),t[5]||(t[5]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No pages",-1)),t[6]||(t[6]=e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by creating a new page.",-1)),e("div",X,[o(n,{to:"/page-builder",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:d(()=>[o(c(h),{class:"-ml-1 mr-2 h-5 w-5"}),t[4]||(t[4]=u(" Create New Page "))]),_:1,__:[4]})])])])):y("",!0)])])])])])}}};export{re as default};
